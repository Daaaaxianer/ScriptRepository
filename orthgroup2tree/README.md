# Orthgroups and phylogenetic tree work

Use the orthgroups file generated by [Orthofinder](https://github.com/davidemms/OrthoFinder) to draw an evolutionary tree for each orthgroup.

All scripts support the `-h` parameter to view help.

## Dependency package

1. [Muscle 5](http://drive5.com/muscle/) not Muscle 3
2. [trimal V1.4](https://github.com/inab/trimal)
3. [iqtree2](https://github.com/iqtree/iqtree2)
4. Third-party python package:[Biopython](https://biopython.org/), pandas, numpy, subprocess, multiprocessing, argparse
5. [ete4](https://github.com/etetoolkit/ete)

## Simple usage

**Function**: Process orthogroups and generate phylogenetic trees 

`orthogroup2tree.py [-h] [-i INDIR] [-o OUTDIR] [-p PROCESSES] [-e END] [-n MIN_COUNT] [-x MAX_COUNT] orthogroups_file`

```
positional arguments:

orthogroups_file      Path to the Orthogroups file

option arguments:

-h, --help                    show this help message and exit
-i INDIR, --indir INDIR       Directory containing genome files (default: genome)
-o OUTDIR, --outdir OUTDIR    Output directory name (default: out)
-p PROCESSES, --processes PROCESSES   Number of processes to use (default: 5)
-e END, --end END             Suffix for FASTA files (default: .pep)
-n MIN_COUNT, --min_count MIN_COUNT       Minimum count for row comparison (default: 5)
-x MAX_COUNT, --max_count MAX_COUNT       Maximum count for row comparison (default: 20)

```

**Example**
```
# default 
python orthogroup2tree.py orthogroups.test.txt

# Define input file suffix
python orthogroup2tree.py orthogroups.test.txt -e .pep.fa

# Define sequence input directory(infasta) and output directory(outdir)
python orthogroup2tree.py orthogroups.test.txt -i infasta -o outdir

# Define the number of parallel processes(default 5 , set 3)
python orthogroup2tree.py orthogroups.test.txt -p 3

# Define Minimum count for row comparison (default 5 , set 10)
python orthogroup2tree.py orthogroups.test.txt -n 10

```

Example in terminal:

![code_example](https://github.com/Daaaaxianer/ScriptRepository/blob/main/orthgroup2tree/code_example.gif)
